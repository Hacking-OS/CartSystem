<app-header></app-header>

<section class="app-shell">
  <div class="app-section__header">
    <p class="app-section__subtitle">Cart overview</p>
    <h2 class="app-section__title">Items waiting for checkout</h2>
  </div>

  <div class="app-alert" *ngIf="message" [ngClass]="getMessageClass()">
    {{ message }}
  </div>

  <ng-container *ngIf="userCartData?.length; else emptyCart">
    <div class="app-table-wrapper">
      <table class="app-table">
        <thead>
  <tr>
      <th>ID</th>
            <th>Name</th>
            <th>Price</th>
            <th>Description</th>
            <th>Category</th>
      <th>Quantity</th>
      <th>Total</th>
            <th>Remove</th>
  </tr>
        </thead>
        <tbody>
          <tr *ngFor="let person of userCartData">
      <td>{{ person.id }}</td>
            <td>{{ person.name }}</td>
            <td>{{ person.price | currency:'USD':'symbol':'1.2-2' }}</td>
            <td>{{ person.description }}</td>
            <td>{{ person.category }}</td>
            <td>{{ person.quantity }}</td>
            <td>{{ person.total | currency:'USD':'symbol':'1.2-2' }}</td>
            <td>
              <button
                class="app-btn app-btn--ghost"
                type="button"
                (click)="removeFromCart(person.cartId)"
                [disabled]="userCartData2.length > 0">
                Remove
              </button>
            </td>
      </tr>
          <tr *ngFor="let person of userCartData2">
      <td>{{ person.id }}</td>
            <td>{{ person.name }}</td>
            <td>{{ person.price | currency:'USD':'symbol':'1.2-2' }}</td>
            <td>{{ person.description }}</td>
            <td>{{ person.category }}</td>
            <td>{{ person.quantity }}</td>
            <td>{{ person.total | currency:'USD':'symbol':'1.2-2' }}</td>
            <td>
              <button class="app-btn app-btn--ghost" type="button" (click)="removeFromCart(person.cartId)">
                Remove
              </button>
            </td>
      </tr>
        </tbody>
      </table>
    </div>

    <div class="app-alert app-alert--danger" *ngIf="userCartData2?.length">
      Please remove inactive items before continuing.
    </div>

    <button
      class="app-btn"
      type="button"
      (click)="checkoutUser()"
      [disabled]="userCartData2.length > 0">
      Proceed to checkout
    </button>
  </ng-container>

  <ng-template #emptyCart>
    <div class="app-empty">
      <p>Your cart is empty. Browse the catalog to add your first item.</p>
    </div>
  </ng-template>
</section>
