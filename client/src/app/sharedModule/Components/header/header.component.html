<nav class="app-navbar" *ngIf="isUser">
  <div class="app-navbar__brand" (click)="redirectUser('')">
    <div class="app-navbar__logo">CS</div>
    <div>
      <p>CartSystem</p>
      <small>Unified commerce workspace</small>
    </div>
  </div>

  <div class="app-navbar__links" *ngIf="userRole; else guestLinks">
    <button type="button" class="app-nav-link" (click)="redirectUser('')">
      Home
    </button>
    <button type="button" class="app-nav-link" *ngIf="userRole" (click)="redirectUser('cartSystem/product')">
      Products
    </button>
    <button
      type="button"
      class="app-nav-link"
      *ngIf="userRole==='user'"
      (click)="redirectUser('cartSystem/cart')">
      Cart
      <span class="app-badge">{{ responseCountCart[0]?.total ?? 0 }}</span>
    </button>
    <button type="button" class="app-nav-link" *ngIf="userRole" (click)="redirectUser('cartSystem/bill')">
      Bills
      <span class="app-badge">{{ responseCountBill[0]?.total ?? 0 }}</span>
    </button>
    <button
      type="button"
      class="app-nav-link"
      *ngIf="userRole==='user'"
      (click)="redirectUser('cartSystem/checkout')">
      Checkout
      <span class="app-badge">{{ responseCountCheckout[0]?.total ?? 0 }}</span>
    </button>
    <button type="button" class="app-nav-link" *ngIf="userRole" (click)="redirectUser('cartSystem/category')">
      Categories
    </button>
    <button type="button" class="app-nav-link" *ngIf="isUserAdmin!==0" (click)="redirectUser('admin/dashboard')">
      Admin
    </button>
    <button type="button" class="app-nav-link" *ngIf="userRole" (click)="redirectUser('user/message')">
      Messenger
    </button>
  </div>

  <ng-template #guestLinks>
    <div class="app-navbar__links">
      <button type="button" class="app-nav-link" (click)="redirectUser('user/login')">Login</button>
      <button type="button" class="app-nav-link" (click)="redirectUser('user/signup')">Sign up</button>
    </div>
  </ng-template>

  <div class="app-navbar__actions">
    <div class="app-user-pill" *ngIf="userRole">
      <span class="app-user-pill__dot" [class.app-user-pill__dot--admin]="userRole === 'admin'"></span>
      <span>{{ userRole | titlecase }}</span>
    </div>
    <span class="app-pill" *ngIf="userRole">
      {{ userName }}
    </span>
    <button
      type="button"
      class="app-btn app-btn--ghost"
      *ngIf="user!==0 && userRole"
      (click)="logoutUser()">
      Logout
    </button>
    <div class="app-toolbar" *ngIf="user===0">
      <button type="button" class="app-btn app-btn--ghost" (click)="redirectUser('user/login')">Login</button>
      <button type="button" class="app-btn" (click)="redirectUser('user/signup')">Sign up</button>
    </div>
  </div>
</nav>
