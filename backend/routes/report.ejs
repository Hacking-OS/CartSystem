
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Invoice</title>
    <style>
      :root {
        --ink: #0f172a;
        --muted: #475569;
        --surface: #ffffff;
        --surface-alt: #f8fafc;
        --accent: #2563eb;
        --accent-soft: #eff4ff;
        --line: rgba(148, 163, 184, 0.35);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
        color: var(--ink);
      }

      body {
        background: linear-gradient(180deg, #edf2fb 0%, #fefefe 90%);
        padding: 32px;
      }

      .invoice {
        width: 8.27in;
        min-height: 11.7in;
        margin: 0 auto;
        background: var(--surface);
        border-radius: 28px;
        padding: 48px 56px 56px;
        box-shadow: 0 40px 70px rgba(15, 23, 42, 0.15);
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 32px;
        padding-bottom: 32px;
        border-bottom: 1px solid var(--line);
      }

      .brand {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .brand h1 {
        font-size: 32px;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: var(--accent);
      }

      .brand span {
        font-size: 14px;
        text-transform: uppercase;
        color: var(--muted);
        letter-spacing: 0.4em;
      }

      .meta-grid {
        display: grid;
        gap: 12px;
        font-size: 14px;
      }

      .meta-grid div {
        display: flex;
        justify-content: space-between;
        gap: 24px;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
        padding-bottom: 6px;
      }

      .meta-grid span:first-child {
        color: var(--muted);
        text-transform: uppercase;
        font-size: 11px;
        letter-spacing: 0.2em;
      }

      section {
        margin-top: 36px;
      }

      .card {
        background: var(--surface-alt);
        border: 1px solid rgba(148, 163, 184, 0.15);
        border-radius: 22px;
        padding: 24px 28px;
        margin-bottom: 24px;
      }

      .card h2 {
        font-size: 16px;
        text-transform: uppercase;
        letter-spacing: 0.4em;
        color: var(--muted);
        margin-bottom: 12px;
      }

      .card p {
        font-size: 18px;
        font-weight: 600;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 24px;
        border: 1px solid rgba(148, 163, 184, 0.25);
        border-radius: 20px;
        overflow: hidden;
        background: var(--surface);
      }

      thead {
        background: var(--accent);
        color: white;
      }

      th,
      td {
        padding: 16px 18px;
        font-size: 14px;
        text-align: left;
      }

      tbody tr:nth-child(odd) {
        background: var(--surface-alt);
      }

      tbody tr:nth-child(even) {
        background: var(--surface);
      }

      tbody tr {
        border-bottom: 1px solid rgba(148, 163, 184, 0.12);
      }

      tbody tr:last-child {
        border-bottom: none;
      }

      .numeric {
        text-align: right;
        font-variant-numeric: tabular-nums;
      }

      .summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-top: 24px;
      }

      .summary-card {
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 20px;
        padding: 20px;
        background: var(--surface-alt);
      }

      .summary-card span {
        display: block;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.3em;
        color: var(--muted);
        margin-bottom: 6px;
      }

      .summary-card strong {
        font-size: 22px;
        font-variant-numeric: tabular-nums;
      }

      footer {
        margin-top: 56px;
        padding-top: 24px;
        border-top: 1px solid rgba(148, 163, 184, 0.3);
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: var(--muted);
      }
    </style>
  </head>
  <body>
    <div class="invoice">
      <header>
        <div class="brand">
          <span>CartSystem</span>
          <h1>INVOICE</h1>
          <p>Generated automatically by CartSystem billing engine.</p>
        </div>
        <div class="meta-grid">
          <div>
            <span>Invoice ID</span>
            <span><%= invoiceId || 'AUTO' %></span>
          </div>
          <div>
            <span>Issued to</span>
            <span><%= name %></span>
          </div>
          <div>
            <span>Email</span>
            <span><%= email %></span>
          </div>
          <div>
            <span>Phone</span>
            <span><%= phone %></span>
          </div>
          <div>
            <span>Payment Method</span>
            <span><%= PaymentType %></span>
          </div>
        </div>
      </header>

      <section>
        <div class="card">
          <h2>Order Summary</h2>
          <p>Thank you for shopping with CartSystem. Your order details are below.</p>
        </div>

        <table>
          <thead>
            <tr>
              <th>Product</th>
              <th>Category</th>
              <th class="numeric">Qty</th>
              <th class="numeric">Unit Price</th>
              <th class="numeric">Subtotal</th>
            </tr>
          </thead>
          <tbody>
          <% if (productDetails.length) { %>
            <% productDetails.forEach((product, index) => { %>
              <tr>
                <td>
                  <div style="font-weight:600"><%= product.name %></div>
                  <div style="font-size:12px;color:var(--muted);margin-top:2px">
                    Item #<%= index + 1 %>
                  </div>
                </td>
                <td><%= product.category || 'N/A' %></td>
                <td class="numeric"><%= product.quantity %></td>
                <td class="numeric">$<%= Number(product.price || 0).toFixed(2) %></td>
                <td class="numeric">$<%= Number((product.price || 0) * (product.quantity || 0)).toFixed(2) %></td>
              </tr>
            <% }) %>
          <% } else { %>
            <tr>
              <td colspan="5" style="text-align:center;padding:28px;color:var(--muted);">
                No line items were provided for this invoice.
              </td>
            </tr>
          <% } %>
          </tbody>
        </table>

        <div class="summary">
          <div class="summary-card">
            <span>Total</span>
            <strong>$<%= totalAmount.toFixed(2) %></strong>
          </div>
          <div class="summary-card">
            <span>Status</span>
            <strong><%= PaymentType === 'CashOnDelivery' ? 'Payment on delivery' : 'Paid' %></strong>
          </div>
          <div class="summary-card">
            <span>Generated</span>
            <strong><%= new Date().toLocaleDateString() %></strong>
          </div>
        </div>
      </section>

      <footer>
        <span>CartSystem Demo Environment</span>
        <span>Need help? support@cartsystem.demo</span>
      </footer>
    </div>
  </body>
</html>



